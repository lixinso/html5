<!-- 
    https://www.chartjs.org/docs/latest/charts/doughnut.html
    https://cdn.jsdelivr.net/npm/chart.js@3.5.1/dist/chart.min.js
    https://www.jsdelivr.com/package/npm/chart.js
    https://www.chartjs.org/docs/latest/charts/doughnut.html

    https://jtblin.github.io/angular-chart.js/
    https://www.chartjs.org/docs/latest/
    https://stackoverflow.com/questions/36749509/removing-legend-on-charts-with-chart-js-v2


-->

<script src="https://cdn.jsdelivr.net/npm/chart.js@3.5.1/dist/chart.min.js"></script>



<!-- Bar chart -->

<canvas id="myChart" width="400" height="400"></canvas>
<script>
var ctx = document.getElementById('myChart').getContext('2d');
var myChart = new Chart(ctx, {
    //type: 'bar',
    type: 'doughnut',
    data: {
        labels: [
            'Red',
            'Blue',
            'Yellow'
        ],
        datasets: [{
            label: 'My First Dataset',
            data: [300, 50, 100],
            backgroundColor: [
            'rgb(255, 99, 132)',
            'rgb(54, 162, 235)',
            'rgb(255, 205, 86)'
            ],
            hoverOffset: 4
        }]
    },
    options: {
        scales: {
            y: {
                beginAtZero: true
            }
        },
        plugins:{   
            legend: {
               display: false
            }
        },
        'onClick' : function (evt, item) {
            console.log ('legend onClick', evt);
            console.log('legd item', item);        
            alert(item[0].index); // <== this works



        }
    }
});

/*
document.getElementById("myChart").onclick = function(evt)
{   
    var activePoints = myChart.getElementsAtEvent(evt);

    if(activePoints.length > 0)
    {
      //get the internal index of slice in pie chart
      var clickedElementindex = activePoints[0]["_index"];

      //get specific label by index 
      var label = myChart.data.labels[clickedElementindex];

      //get value by index      
      var value = myChart.data.datasets[0].data[clickedElementindex];

   }
}*/



</script>
